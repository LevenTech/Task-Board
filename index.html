<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Task Board by LevenTech</title>

	<link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
	
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jasny-bootstrap/3.1.3/css/jasny-bootstrap.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jasny-bootstrap/3.1.3/js/jasny-bootstrap.min.js"></script>

    <script type="text/javascript" src="js/taskboard.js"></script>
    <script type="text/javascript" src="js/googleanalytics.js"></script>
    <script type="text/javascript" src="js/colorconvert.js"></script>

    <link href="https://swisnl.github.io/jQuery-contextMenu/dist/jquery.contextMenu.css" rel="stylesheet" type="text/css">
    <script src="https://swisnl.github.io/jQuery-contextMenu/dist/jquery.contextMenu.js" type="text/javascript"></script>
    <script src="https://swisnl.github.io/jQuery-contextMenu/dist/jquery.ui.position.min.js" type="text/javascript"></script>
    <script src="https://swisnl.github.io/jQuery-contextMenu/js/main.js" type="text/javascript"></script>
	
	<link rel="stylesheet" href="css/taskboard.css"></style>

	<style type="text/css">
		body {
			font-family: arial;
			background: darkgrey;
		}
	</style>
</head>
<body ondrop="newRow(event)" ondragover="allowDrop(event)" style="min-height:90%;" draggable="false">
    <h1 style="margin-left:20px;" class="app-header">Task Board by LevenTech</h1>
	<div id="taskboard-toolbar">
	<div id="left-buttons">
    <div style="float:left;height:100px;margin:10px;padding:10px;background:#F0F0F0;margin-left:15px;user-select:none;">
		<div id="open-local-file" class="fileinput fileinput-new" data-provides="fileinput" style="margin-left:0px;">
			<button class="btn btn-default toolbar-button newfile-button" onclick="newFile()" style="float:left;margin:10px;margin-left:0px;">
				<i class="fa fa-file-code-o" aria-hidden="true" style="width:10px;margin-right:10px;"></i>New File
			</button>
			<span class="btn btn-default btn-file" style="float:left;margin:10px;margin-left:0px;">
				<i class="fa fa-folder-o" aria-hidden="true" style="width:10px;margin-right:10px;"></i>
				<span>Open File</span>
				<input type="file" id="csvFileInput" onchange="handleFiles(this.files)" onclick="this.value=null;" accept=".csv"/>
			</span>
			<br/><br/><br/>
			<span style="margin-left:0px;"><strong>Current File:</strong></span>
			<span class="fileinput-filename"></span>
			<span class="fileinput-new">No file chosen</span>
			<span id="unsaved-changes" title="You have changes that haven't been saved to a file yet." style="display:none;">
				<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
			</span>
		</div>
		<span id="result"></span>
	</div>
	<div style="float:left;margin-top:30px;margin-left:15px;user-select:none;">
		<button class="btn btn-default toolbar-button savefile-button" id="savefile-button" onclick="saveFile()" style="margin:0px;padding:8px;" disabled>
			<div style="float:left;"><i class="fa fa-floppy-o" aria-hidden="true" style="width:40px;font-size:300%;margin-right:10px;"></i></div>
			<div style="float:left;">Save<br/>to File</div>
		</button>
	</div>
	</div>
	<div id="middle-buttons" style="diplay:none;user-select:none;">
		<div style="margin-top:30px;margin-left:10px;display:inline-block;">
		  <label for="font-size">Task size:</label>
		  <input type="text" id="font-size" readonly style="user-select:none;text-align:center;width:80px;border:0; color:#000000; font-weight:bold;">
		  <div id="font-size-slider" style="margin-top:10px;width:150px;"></div>
		</div>
		<div style="margin-top:30px;margin-left:40px;display:inline-block;">
		  <label for="date-select">Show for:</label>
		  <input type="text" id="todays-date" readonly style="user-select:none;text-align:center;width:120px;border:0; color:#000000; font-weight:bold;">
		  <div id="todays-date-slider" style="margin-top:10px;width:220px;"></div>
		</div>		
	</div>
	<div id="right-buttons">

	<div id="finish-area" class="finish-area normal-finish" ondrop="dropFinish(event)" ondragover="highlightFinish(event)" ondragleave="unhighlightFinish(event)" style="">
			<i class="fa fa-check-square-o" aria-hidden="true" style="width:10px;margin-right:10px;"></i> Finished <br/><br/>
			<span id="finish-instructions" ondragover="highlightFinish(event)" style="pointer-events: none;display:none;">Drop here to Finish Task</span>
	</div>
	<div id="new-task-drag" class="new-task-drag task-block medium-block now-task" draggable="true" style="margin-right:30px;float:right;width:100px;height:100px;background-color:LemonChiffon;vertical-align:center;" ondragstart="dragNew(event)" >
		<br/>Drag for new task
	</div>
	</div>
	</div>
	
	<br/>
	<div class="my-dialog" id="editDialog">
		<table style="float:left;width:100%;height:100%;">
			<tr style="vertical-align:top;">
				<td style="min-width:100px;padding-top:3px;">Task Name:</td>
				<td>
					<textarea type="text" cols="21" rows="2" id="namepicker" style="width:100%;margin-bottom:5px;resize:none;"></textarea>
					<button type="button" class="btn btn-default" style="padding:5px;padding-top:1px;padding-bottom:1px;margin-left:0px;font-size:12px;" onclick="completeTask();">
					<i class="fa fa-check-square-o" aria-hidden="true" style="margin-right:5px;"></i>Finish</button>		
					<button type="button" class="btn btn-default" style="padding:5px;padding-top:1px;padding-bottom:1px;margin-left:2px;font-size:12px;" onclick="deleteTask();">
					<i class="fa fa-trash" aria-hidden="true" style="margin-right:5px;"></i>Delete</button>						
				</td>
			</tr>
			<tr style="height:15px;"></tr>
			<tr style="height:30px;"><td>Start Date:</td><td><input type="date" id="datepicker-start" style="width:100%;"></td></tr>
			<tr><td>Due Date:</td><td><input type="date" id="datepicker-due" style="width:100%;"></td></tr>
			<tr style="height:30px;"></tr>
			<tr style="height:30px;">
				<td>Color:</td>
				<td>
					<table><tr><td><input style="float:left;" type='color' id="colorpicker2" onchange="colorpicked();" /></td>
					<td><input style="float:left;width:175px;width:100%;" type="text" id="colorpicker" onchange="colortyped();" /></td></tr></table>
				</td>
			</tr>
			<tr style="height:30px;"><td>Interval:</td><td><input type="text" id="incrementpicker" style="width:100%;"></td></tr>
		</table>
	</div>
	<div class="my-dialog" id="completeDialog">
		Are you sure you want to finish the task "<span id="completeTaskName" ></span>"?<br/><br/>
		This will remove the task from your board, but keep a record of it in your save file.<br/><br/>
		To remove all record of the task, you can 
		<button type="button" class="btn btn-default" style="padding:5px;padding-top:1px;padding-bottom:1px;margin-left:5px;margin:0px;margin-right:5px;font-size:12px;" onclick="deleteTask();">
				<i class="fa fa-trash" aria-hidden="true" style="margin-right:5px;"></i>Delete</button>
		 it instead.
	</div>
	<div class="my-dialog" id="deleteDialog">
		Are you sure you want to DELETE the task "<span id="deleteTaskName" ></span>"?<br/><br/>
		This will remove all trace of this task, from the board and your save file.<br/><br/> 
		To keep a record of the task, but remove it from the board, you can 
		<button type="button" class="btn btn-default" style="padding:5px;padding-top:1px;padding-bottom:1px;margin-left:5px;margin:0px;margin-right:5px;font-size:12px;" onclick="completeTask();">
				<i class="fa fa-check-square-o" aria-hidden="true" style="margin-right:5px;"></i>Finish</button>
		it.
	</div>
	<div class="my-dialog" id="saveDialog">
		This file has not been saved, and you're about to lose your changes. Save it now?
	</div>
	<div class="my-dialog" id="newRowDialog" style="text-align:center;">
		Name the new group:
		<input id="newRowName" width="50px" style="margin-top:10px;"></input>
	</div>
	<div id="output" style="" draggable="false"></div>
</body>
</html>